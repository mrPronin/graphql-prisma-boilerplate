# Migration `watch-20190929130737`

This migration has been generated by Oleksandr Pronin at 9/29/2019, 1:07:37 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql

```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration watch-20190928184438..watch-20190929130737
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,6 @@
 generator photon {
   provider = "photonjs"
-  output   = "../node_modules/@generated/photon"
 }
 datasource db {
   provider = "postgresql"
@@ -9,25 +8,25 @@
 }
 model User {
   id           String         @default(cuid()) @id
-  authProvider AuthProvider[]
-  createdAt    DateTime       @default(now())
+  name         String?
   email        String?
+  password     String?
   lastName     String?
-  name         String?
-  password     String?
   picture      String?
+  authProviders AuthProvider[]  @relation(onDelete: CASCADE)
   signupType   AuthProviderType @default(UNDEFINED)
   updatedAt    DateTime       @updatedAt
+  createdAt    DateTime       @default(now())
 }
 model AuthProvider {
   id     String @default(cuid()) @id
-  token  String
   type   AuthProviderType
-  user   User
   userId String
+  token  String
+  user   User @relation(onDelete: NONE)
 }
 enum AuthProviderType {
     GOOGLE
```

## Photon Usage

You can use a specific Photon built for this migration (watch-20190929130737)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/watch-20190929130737'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
